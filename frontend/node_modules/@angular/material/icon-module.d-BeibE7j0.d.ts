<div class="bolt-container product-detail">
  <div class="bolt-grid">
    <!-- Sol taraf: Ürün Görseli -->
    <div class="bolt-col-6">
      <div class="product-image-wrapper">
        <img [src]="product.mainImageUrl" [alt]="product.name" class="product-main-image" />
      </div>
    </div>

    <!-- Sağ taraf: Ürün Bilgileri -->
    <div class="bolt-col-6">
      <h2 class="product-name">{{ product.name }}</h2>
      <p class="product-category">{{ product.category.name }}</p>

      <div class="product-rating">
        <span *ngFor="let star of [1,2,3,4,5]" class="star" [class.filled]="star <= product.ratingAverage">
          ★
        </span>
        <span class="rating-number">({{ product.ratingAverage }})</span>
      </div>

      <p class="product-description">{{ product.description }}</p>

      <div class="product-price">
        <span *ngIf="product.discountPercentage; else normalPrice">
          <span class="old-price">{{ product.price | currency }}</span>
          <span class="discounted-price">
            {{
              (product.price * (1 - product.discountPercentage / 100)) | currency
            }}
          </span>
          <span class="discount-tag">-{{ product.discountPercentage }}%</span>
        </span>
        <ng-template #normalPrice>
          <span class="price">{{ product.price | currency }}</span>
        </ng-template>
      </div>

      <p class="stock" [ngClass]="{ 'in-stock': product.stock > 0, 'out-of-stock': product.stock === 0 }">
        {{ product.stock > 0 ? 'In Stock' : 'Out of Stock' }}
      </p>

      <button
        class="bolt-btn bolt-btn--primary"
        [disabled]="product.stock === 0"
        (click)="addToCart(product)">
        Add to Cart
      </button>
    </div>
  </div>

  <!-- Ürün Detayları & Yorumlar -->
  <div class="bolt-tabs">
    <input type="radio" name="tabs" id="tab1" checked />
    <label for="tab1">Product Details</label>
    <input type="radio" name="tabs" id="tab2" />
    <label for="tab2">Reviews</label>

    <div class="tab-content" id="content1">
      <p>{{ product.productDetails }}</p>
    </div>
    <div class="tab-content" id="content2">
      <!-- Reviews component veya liste -->
      <app-review-list [productId]="product.id"></app-review-list>
    </div>
  </div>
</div>
