<div class="py-8 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <!-- Loading -->
  <div *ngIf="loading" class="flex justify-center py-10">
    <mat-spinner diameter="50"></mat-spinner>
  </div>

  <!-- Error -->
  <div *ngIf="error" class="text-center text-red-500 py-4">
    {{ error }}
  </div>

  <!-- Category Details -->
  <div *ngIf="!loading && category">
    <h2 class="text-3xl font-bold text-gray-900 mb-4 text-center">
      {{ category.name }}
    </h2>
    <p class="text-gray-600 mb-6 text-center">{{ category.description }}</p>

    <!-- Products Grid -->
    <div *ngIf="products.length > 0" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      <div
        *ngFor="let product of products"
        class="bg-white rounded-lg shadow hover:shadow-lg transition duration-300 flex flex-col"
      >
        <img
          [src]="product.mainImageUrl || 'assets/images/product-placeholder.png'"
          [alt]="product.name"
          class="w-full h-48 object-cover rounded-t-lg"
          (error)="handleImageError($event)"
        />
        <div class="p-4 flex flex-col justify-between flex-1">
          <div>
            <h3 class="text-lg font-semibold text-gray-900">{{ product.name }}</h3>
            <p class="text-sm text-gray-500 mb-2">
              {{ product.description || 'No description available' }}
            </p>
            <div class="text-lg font-bold text-green-600">
              {{ product.price | currency:'TRY':'symbol':'1.2-2' }}
            </div>
          </div>
          <button
            mat-raised-button
            color="primary"
            class="mt-4 w-full"
            [routerLink]="['/products', product.id]"
          >
            View Details
          </button>
        </div>
      </div>
    </div>

    <!-- No Products -->
    <div *ngIf="products.length === 0" class="text-center text-gray-500 py-10">
      No products found in this category.
    </div>
  </div>
</div>
