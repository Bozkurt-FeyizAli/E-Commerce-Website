<tr *ngFor="let entry of items">
  <td class="product-info">
    <img
      [src]="entry.product.mainImageUrl || 'assets/images/product-placeholder.png'"
      [alt]="entry.product.name"
      (error)="handleImageError($event)"
    />
    <a [routerLink]="['/products', entry.product.id]">
      {{ entry.product.name }}
    </a>
  </td>
  <td>
    {{ entry.product.price | currency:'TRY':'symbol':'1.2-2' }}
  </td>
  <td>
    <div class="quantity-controls">
      <button mat-icon-button (click)="updateQuantity(entry.item, entry.item.quantity - 1)">
        <mat-icon>remove</mat-icon>
      </button>
      <input type="number"
             [(ngModel)]="entry.item.quantity"
             (change)="updateQuantity(entry.item, entry.item.quantity)"
             min="1">
      <button mat-icon-button (click)="updateQuantity(entry.item, entry.item.quantity + 1)">
        <mat-icon>add</mat-icon>
      </button>
    </div>
  </td>
  <td>
    <strong>
      {{ (entry.product.price * entry.item.quantity) | currency:'TRY':'symbol':'1.2-2' }}
    </strong>
  </td>
  <td>
    <button mat-icon-button (click)="removeItem(entry.item.id)">
      <mat-icon color="warn">delete</mat-icon>
    </button>
  </td>
</tr>
