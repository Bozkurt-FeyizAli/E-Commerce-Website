<div class="manage-categories">
  <h1>Manage Categories</h1>

  <form (submit)="submitCategory()" class="category-form">
    <mat-form-field appearance="outline">
      <input matInput placeholder="Category Name"
             [(ngModel)]="newCategory.name" name="name" required>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <textarea matInput placeholder="Description"
                [(ngModel)]="newCategory.description" name="description"></textarea>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit">
      {{ editingCategory ? 'Update' : 'Add' }} Category
    </button>

    <button *ngIf="editingCategory" mat-button type="button"
            (click)="resetForm()">Cancel</button>
  </form>

  <div class="category-grid">
    <mat-card *ngFor="let category of categories" class="category-card">
      <mat-card-header>
        <mat-card-title>{{ category.name }}</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <p>{{ category.description || 'No description' }}</p>
      </mat-card-content>

      <mat-card-actions>
        <button mat-icon-button (click)="editCategory(category)">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="deleteCategory(category.id)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
